<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Тестовая страничка для вебпанели</title>

	<link rel="stylesheet" href="/css/webpanel.css"/>

	<script type="text/javascript" src="/jslib/vendor/jquery-1.9.1.js"></script>
	<script type="text/javascript" src="/jslib/vendor/knockout-2.2.1.js"></script>
	<script type="text/javascript" src="/jslib/vendor/lodash.js"></script>
	<script type="text/javascript" src="/jslib/vendor/oktell.js"></script>
	<script type="text/javascript" src="/jslib/jqueryPlugins/iScroll.js"></script>


	<script type="text/javascript" src="/coffee/utils.js"></script>
	<script type="text/javascript" src="/coffee/koBindings/hoverSelect.js"></script>
	<script type="text/javascript" src="/coffee/koBindings/inputClear.js"></script>
	<script type="text/javascript" src="/coffee/koBindings/jScroll.js"></script>
	<script type="text/javascript" src="/coffee/class/ActionList.js"></script>
	<script type="text/javascript" src="/coffee/class/Panel.js"></script>
	<script type="text/javascript" src="/coffee/class/User.js"></script>
	<script type="text/javascript" src="/coffee/class/UsersService.js"></script>


	<script type="text/javascript">
		window.oktell = new Oktell
	</script>

	<script type="text/javascript" src="/coffee/webpanel.js"></script>

	<script type="text/javascript">
		$(function(){
			var stateEl = $('#connectionState');
			stateEl.text('Соединение');
			var oktell = window.oktell

			oktell.on('disconnect', function(reason){
				stateEl.text('Ошибка')
			});

			oktell.connect({
				url: '192.168.0.61',
				login: 'a6',
				password: 'a6',
				debugMode: true,
				openTimeout: 5000,
				expires: 84600,
				queryTimeout: 5000,
				defaultAvatar: '/img/noavatar.png',
				defaultAvatar32x32: '/img/noavatar.png',
				defaultAvatar64x64: '/img/noavatar.png',
				callback: function(data) {
					if ( data.result ) {
						stateEl.text('Онлайн')
						oktell.trigger('oktellConnected')
					} else {
						stateEl.text('Ошибка')
					}
				}
			});


			$.oktellPanel({
				oktell: oktell,
				dynamic: true,
				position: 'right',
				debug: true
			});
			$('.userPhone').oktellButton()
		});
	</script>

</head>
<body>
	<div style="width: 500px; height: 500px;">
		<span>Статус:</span> <span id="connectionState">Соединение</span>
		<span class="userPhone" data-phone="103"></span>

		<br>
		<br>
		Вид кнопок
		<div>
			Call
			<ul class="b_button_action m_button_action_call">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			Conference
			<ul class="b_button_action m_button_action_conference">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			transfer
			<ul class="b_button_action m_button_action_transfer">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			toggle
			<ul class="b_button_action m_button_action_toggle">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			intercom
			<ul class="b_button_action m_button_action_intercom">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			endCall
			<ul class="b_button_action m_button_action_endCall">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			ghostListen
			<ul class="b_button_action m_button_action_ghostListen">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>
			ghostHelp
			<ul class="b_button_action m_button_action_ghostHelp">
				<li class="g_first">
					<i></i>
				</li>
				<li class="g_last drop_down">
					<img src="/img/icons/action/drop_down.png">
				</li>
			</ul><br>
			<br>


		</div>
	</div>

</body>
</html>